var strings = {
    //#region Common
    "Saving...": "Збереження...",
    "Loading...": "Завантаження...",
    "New": "Нове",
    "Create": "Створити",
    "Remove": "Видалити",
    "Select": "Вибрати",
    "Open": "Відкрити",
    "Clear": "Очистити",
    "Cancel": "Скасувати",
    "Upload": "Завантажити",
    "Link": "Посилання",
    "Submit": "Відправити",
    "Update": "Оновити",
    //#endregion

    //#region Login
    "Sign up": "Реєстрація",
    "Log in": "Вхід",

    "Continue with Google": "Продовжити з Google",
    "Continue with Apple": "Продовжити з Apple",

    "Continue with email": "Продовжити, використовуючи пошту",
    "Create new account": "Створити новий акаунт",
    "Continue with password": "Продовжити з паролем",

    "Forgot password?": "Забули пароль?",
    "You can also ": "Ви також можете ",
    "continue with SAML SSO": "Продовжити з SAML SSO",

    "There is no existing account under this email address. We just sent you a temporary sign up code.": "На цю адресу електронної пошти не зареєстровано жодного акаунта. Ми щойно надіслали вам тимчасовий код для реєстрації.",
    "Please check your inbox.": "Будь ласка, перевірте свою електронну пошту.",
    "Sign up code": "Код реєстрації",

    "Password": "Пароль",
    "Incorrect password.": "Невірний пароль.",
    "Your login code was invalid, or expired.": "Ваш код невірний або закінчився.",

    //#endregion

    //#region Onboarding


    "Welcome to Notion": "Ласкаво просимо в Notion",
    "First things first, tell us a bit about yourself.": "Насамперед розкажіть нам трохи про себе",
    "Set a password": "Встановіть пароль",
    "You're currently logged in as ": "Наразі ви увійшли як ",
    "Continue": "Продовжити",

    "How are you planning to use Notion?": "Як ви плануєте використовувати Notion?",
    "We'll streamline your setup experience accordingly.": "Ми підготуємо робочу область під ваші завдання.",
    "For myself": "Для себе",
    "Write better. Think more clearly. Stay organized.": "Пишіть краще. Думайте ясніше. Залишайтеся організованими.",
    "Free for 1 person": "Безкоштовно для однієї людини",
    "With my team": "З моєю командою",
    "Wikis, docs, tasks & projects, all in one place.": "Вікі, документи, завдання та проєкти - усе в одному місці.",
    "Start for free": "Почніть безкоштовно",
    "Take me to Notion": "Вперед, у Notion!",

    //#endregion

    //#region Settings

    //Sections
    "My account": "Мій акаунт",
    "My notifications": "Мої сповіщення",
    "My connected apps": "Підключені додатки",
    "Language & region": "Мова і регіон",
    "Appearance": "Зовнішній вигляд",
    "Earn credit": "Заробити бонуси",
    "Workspace": "Робоча область",
    "Members": "Учасники",
    "Upgrade": "Покращити тариф",
    "Plans": "Тарифи",
    "Billing": "Оплата",
    "Security & identity": "Безпека та ідентифікація",

    //#region 

    "Account": "Аккаунт",
    "Changes to account settings will apply to all of your workspaces.": "Налаштування облікового запису будуть застосовані до всіх ваших робочих просторів",
    "Learn more.": "Дізнатися більше.",
    "Photo": "Фото",
    "Upload photo": "Завантажити фото",
    "Personal info": "Персональна інформація",
    "Email": "Електронна пошта",
    "Change email": "Змінити пошту",
    "First name": "Ім'я",
    "Last name": "Прізвище",
    "You can set a permanent password if you don't want to use temporary login codes.": "Ви можете встановити постійний пароль, якщо не хочете використовувати тимчасові коди входу.",
    "Change password": "Змінити пароль",
    "Remove password": "Прибрати пароль",
    "Danger zone": "Небезпечна зона",
    "Delete my account": "Видалити мій акаунт",

    //#endregion

    //#endregion

    //#region Update menu

    "Inbox": "Вхідні",
    "Following": "Відстежую",
    "All": "Усе",
    "Archived": "Архів",

    "Archive all": "Відправити усе до архіву",
    // "Unfollow this page": "Не відстежувати зміни сторінки",
    // "Re-follow this page": "Знову відстежувати зміни сторінки",

    //#endregion

    //#region Menu
    "Database lock": "Блокування бази даних",
    "Add to Favorites": "Додати в обране",
    "Remove from Favorites": "Прибрати з обраного",
    "Copy link": "Скопіювати посилання",
    "Open in Windows app": "Відкрити в додатку",
    "Undo": "Скасувати",
    "Page history": "Зміни",
    "Show deleted pages": "Видалені сторінки",
    "Export": "Експортувати",
    "PDF, HTML, Markdown": "PDF, HTML, Markdown",
    "Merge with CSV": "Об'єднати з CSV",
    "Rename": "Перейменувати",
    "Edit property": "Змінити властивість",
    "Move to": "Перемістити",
    "Move to ": "Перемістити в ",
    "Private pages": "Особисті сторінки",
    "Comment": "Коментар",
    "Turn into": "Перетворити на",
    "Turn into page": "Зробити сторінкою",
    "Turn into inline": "Зробити вбудованою",
    "Add as sub-page": "Додати як субсторінку",
    "Caption": "Підпис",
    "Wrap code": "Перенесення рядків",
    "Dismiss": "Приховати",
    "Mention": "Згадати",
    "Color": "Колір",

    "Style": "Стиль",
    "Default": "Звичайний",
    "Serif": "Засічки",
    "Mono": "Моно",
    "Small text": "Маленький текст",
    "Full width": "На всю ширину",
    "Duplicate": "Створити копію",
    "Import": "Імпорт",
    "Customize page": "Змінити сторінку",
    "Lock page": "Заблокувати сторінку",
    "Unlock page": "Розблокувати сторінку",
    //#endregion

    //#region Share

    "Add people, groups, or emails": "Люди, групи або адреси пошти",
    "Add people": "Додати людей",

    "Allow editing": "Дозволити редагування",
    "Allow comments": "Дозволити коментування",
    "Allow duplicate as template": "Дозволити копіювання як шаблон",
    "Search engine indexing": "Індексування пошуковими рушіями",

    "Based on ": "На основі ",

    "Full access": "Повний доступ",
    "Can edit and share with others.": "Може редагувати і ділитися з іншими",
    "Can edit": "Може редагувати",
    "Can edit, but not share with others.": "Може редагувати, але не ділитися з іншими",
    "Can comment": "Може коментувати",
    "Can view and comment, but not edit.": "Може переглядати і коментувати, але не редагувати",
    "Can view": "Може переглядати",
    "Cannot edit or share with others.": "Не може редагувати або ділитися з іншими",
    "You'll override permissions from the parent page if you change this role.": "Ви перевизначите права доступу, отримані від батьківської сторінки, якщо зміните цю роль.",
    //#endregion

    //#region Updates
    "Follow this page": "Стежити за змінами сторінки",
    "Connect Slack channel": "Підключити канал Slack",
    //#endregion

    //#region Database
    "Properties": "Властивості",
    "Group by ": "Групувати за ",
    "Filter": "Фільтр",
    "Sort": "Відсортувати",
    "Hide": "Приховати",
    "Delete": "Видалити",
    "Search": "Пошук",
    "Copy link to view": "Посилання на подання",
    "Templates": "Шаблони",
    "Group by": "Змінити групування",
    "Hidden columns": "Приховані колонки",
    "Views for": "Подання для",
    "Add a view": "Додати подання",
    "Add a group": "Додати групу",
    "Wrap cells": "Перенесення рядка",

    //#region Views
    "Table": "Таблиця",
    "Table with types to store and view any kind of structured data": "Таблиця з типами для зберігання і відображення будь-яких структурованих даних",
    "Board": "Дошка",
    "Kanban board, great for project planning and bug tracking": "Kanban board, чудово підходить для побудови плану проєкту і відстеження багів",
    "Timeline": "Таймлайн",
    "A timeline view, great for project scheduling and planning": "Тимчасова шкала, чудово підходить для створення розкладу і плану проекту",
    "Calendar": "Календар",
    "Month view, for event planning and scheduling": "Подання по місяцях для планування подій і побудови розкладу",
    "List": "Список",
    "A simplified page view, great for bookmarks and notes": "Спрощене представлення сторінок, відмінно підходить для закладок і нотаток",
    "Gallery": "Галерея",
    "Grid of cards, use for mood boards, index cards, and recipes": "Сітка карток, підходить для мудбордів, рецептів і подібного",
    "View name": "Назва подання",

    "Show table": "Показати таблицю",
    "Show in table": "Показати в таблиці",
    "Show in timeline": "Показати в таймлайні",
    "Date range": "Діапазон дат",
    "Use separate start and end dates": "Окремі дати початку і кінця",
    "By": "За",
    //#endregion

    //#region Properties
    "Properties for": "Властивості подання",

    "Card preview": "Попередній перегляд картки",
    "Page cover": "Обкладинка сторінки",
    "Page content": "Вміст сторінки",

    "Card size": "Розмір картки",
    "Small": "Маленький",
    "Medium": "Середній",
    "Large": "Великий",

    "Add a property": "Нова властивість",
    "Property Type": "Тип властивості",
    "Add filter": "Додати фільтр",
    "Sort ascending": "Сортувати за зростанням",
    "Sort descending": "Сортувати за спаданням",
    "Insert left": "Вставити зліва",
    "Insert right": "Вставити праворуч",

    //Тип властивостей
    "Basic": "Базові",
    "Number": "Число",
    "Multi-select": "Множинний вибір",
    "Date": "Дата",
    "Person": "Учасник",
    "Files & media": "Файли та медіа",
    "Checkbox": "Чекбокс",
    "Phone": "Телефон",

    "Advanced": "Просунуті",
    "Formula": "Формула",
    "Relation": "Зв'язок із таблицею",
    "Rollup": "Роллап",
    "Created time": "Час створення",
    "Created by": "Ким створено",
    "Last edited time": "Час зміни",
    "Last edited by": "Ким змінено",
    //#endregion

    //#region Filters
    "Filters for": "Фільтри для",
    "Add a filter": "Додати фільтр",
    "Add a filter group": "Додати групу фільтрів",
    "A group to nest more filters": "Група для поєднання більшої кількості фільтрів",
    "Turn into group": "Перетворити на групу",
    "Turn into filter": "Перетворити на фільтр",
    "Wrap in group": "Обернути в групу",
    "Create a filter group around this": "Створити групу фільтрів для цієї групи",

    "Where": "Де",
    "And": "І",
    "Or": "Або",

    "Contains": "Містить",
    "Does not contain": "Не містить",
    "Is empty": "Порожнє",
    "Is not empty": "Не порожнє",

    "Pick a person": "Виберіть людину",
    "Me": "Мене",
    //#endregion

    //#region Sort
    "Sort for": "Сортування для",
    "Ascending": "За зростанням",
    "Descending": "За спаданням",
    "Add a sort": "Додати сортування",
    //#endregion

    //#region 
    "Templates for": "Шаблони для",
    "New template": "Новий шаблон",
    "Empty page": "Порожня сторінка",
    //#endregion

    //#endregion

    //#region Page
    "Open as page": "Відкрити як сторінку",
    "Add to": "Додати в",

    "Add description": "Додати опис",
    "Hide description": "Сховати опис",

    "Add cover": "Додати обкладинку",
    "Change cover": "Змінити обкладинку",
    "Reposition": "Перемістити",
    "Save position": "Зберегти позицію",

    //Cover dialog
    "Choose an image": "Виберіть зображення",
    "Images wider than 1500 pixels work best.": "Зображення ширше 1500 пікселів виглядають найкраще.",
    "Works with any image from the web.": "Працює з будь-яким зображенням з інтернету.",

    //Icon
    "Add icon": "Додати іконку",
    "Upload an image": "Завантажити зображення",
    "Random": "Випадково",
    "Recommended size is 280 × 280 pixels": "Рекомендований розмір - 280 х 280 пікселів",
    "Upload an image": "Завантажити",

    //Comments
    "Add comment": "Додати коментар",
    "Send": "Відправити",
    "Resolve": "Вирішено",
    "Edit comment": "Змінити коментар",
    "Delete comment": "Видалити коментар",
    //#endregion

    //#region Editor

    //#region Blocks
    "Basic blocks": "Базові блоки",
    "Inline": "Вбудовані блоки",
    "Media": "Медіа",
    "Database": "База даних",
    "Embeds": "Вбудовані блоки",
    "Advanced blocks": "Просунуті блоки",


    //#endregion

    //#region Date-Time selector
    "Remind": "Нагадати",

    "None": "Відключено",
    "At time of event": "У момент початку події",
    "5 minutes before": "За 5 хвилин до початку",
    "10 minutes before": "За 10 хвилин до початку",
    "15 minutes before": "За 15 хвилин до початку",
    "30 minutes before": "За 30 хвилин до початку",
    "1 hour before": "За 1 годину до початку",
    "2 hours before": "За 2 години до початку",
    "On day of event (9:00 AM)": "У день події (9:00)",
    "1 day before (9:00 AM)": "За 1 день до події (9:00)",
    "2 days before (9:00 AM)": "За 2 дні до події (9:00)",
    "1 week before (9:00 AM)": "За 1 тиждень до події (9:00)",

    "End date": "Дата закінчення",
    "Include time": "Додати час",
    "Date format & timezone": "Формат дати і часовий пояс",

    "Date format": "Формат дати",
    "Full date": "Повна дата",
    "Month/Day/Year": "Місяць/День/Рік",
    "Day/Month/Year": "День/Місяць/Рік",
    "Year/Month/Day": "Рік/Місяць/День",
    "Relative": "Відносний",

    "Time format": "Формат часу",
    "12 hour": "12 годин",
    "24 hour": "24 години",

    "Timezone": "Часовий пояс",
    //#endregion

    //#endregion

    //#Search
    "Recent pages": "Нещодавні сторінки",
    "Open in a new tab": "Відкрити в новій вкладці",
    //#Tooltips
    "Pin this page in your sidebar": "Закріпити цю сторінку в бічному меню"
}


var placeholders = {
    //#region Page
    "Add a comment...": "Додати коментар...",
    "Type '/' for commands": "Введіть '/' для відкриття панелі команд",
    "Untitled": "Без назви",
    "Press Enter to continue with an empty page, or pick a template (↑↓ to select)": "Натисніть Enter, щоб продовжити з порожньою сторінкою, або виберіть шаблон (↑↓ для вибору)",
    "Empty": "Порожньо",
    "Add a description...": "Додайте опис...",
    //#endregion

    "Type to search...": "Введіть запит",
    "Enter your email address...": "Введіть вашу пошту",
    "Enter your password...": "Введіть ваш пароль...",
    //"Paste login code": "Вставте код реєстрації",


    "Add to another page...": "Додати на іншу сторінку...",
    "Filter actions...": "Відфільтрувати дії...",

    "Paste an image link...": "Вставте посилання на зображення...",
    "Search for an image...": "Пошук за зображенням...",
    "Search for a person...": "Пошук за учасником...",
    "Type something...": "Напишіть що-небудь...",
    "Filter...": "Відфільтрувати",
    "Search for a page, or create a new one...": "Знайдіть сторінку або створіть нову...",
    "Add new page in...": "Додати сторінку в...",
    "Value": "Значення",
}

var stringParts = {
    "Today at": "Сьогодні в"
}

var alwaysTranslate = {
    "Press Enter to continue with an empty page, or ": "Натисніть Enter, щоб продовжити з порожньою сторінкою або ",
    "create a template": "створіть шаблон",
}

var updateHeaders = {
    " in ": " в ",
    " and ": " і ",

    " created ": " створив(ла) ",
    " edited ": " змінив(ла) ",
    " deleted ": " видалив(ла) ",

    " created view ": " створив(ла) подання ",
    " edited view ": " змінив(ла) подання ",
    " deleted view ": " видалив(ла) подання ",

    " created property ": " створив(ла) властивість ",
    " edited property ": " змінив(ла) властивість ",
    " deleted property ": "видалив(ла) властивість",

    " updated permission for ": " оновив(ла) дозволи для",

    " commented in ": " прокоментував(ла) ",
    " mentioned you in ": " згадав(ла) вас у ",
    " locked ": " заблокував(ла) ",
    " unlocked ": " розблокував(ла) ",
}


var buttons = {
    //#region Blocks

    "Текст": "Текст",
    "Just start writing with plain text.": "Почніть друкувати звичайним текстом.",

    "Page": "Сторінка",
    "Embed a sub-page inside this page.": "Вставте субсторінку в цю сторінку.",

    "To-do list": "Список справ",
    "Track tasks with a to-do list.": "Відстежуйте завдання за допомогою списку справ.",

    "Heading 1": "Заголовок 1",
    "Big section heading.": "Великий заголовок розділу.",

    "Heading 2": "Заголовок 2",
    "Medium section heading.": "Середній заголовок розділу.",

    "Heading 3": "Заголовок 3",
    "Small section heading.": "Маленький заголовок розділу.",

    "Bulleted list": "Промаркований список",
    "Create a simple bulleted list.": "Створює простий промаркований список.",

    "Numbered list": "Нумерований список",
    "Create a list with numbering.": "Створює список із нумерацією.",

    "Toggle list": "Список, що розкривається",
    "Toggles can hide and show content inside.": "Списки, що розкриваються, можуть ховати і показувати вміст.",

    "Quote": "Цитата",
    "Capture a quote.": "Процитуй кого-небудь.",

    "Divider": "Роздільник",
    "Visually divide blocks.": "Візуально розділяє блоки.",

    "Link to page": "Посилання на сторінку",
    "Link to an existing page.": "Посилання на існуючу сторінку.",

    "Callout": "Виділення",
    "Make writing stand out.": "Робить написане дуже помітним.",

    "Mention a person": "Згадати учасника",
    "Ping someone so they get a notification.": "Тикає учасника, щоб він отримав повідомлення.",

    "Mention a page": "Згадати сторінку",
    "Mention a page and place in text.": "Вставляє згадку сторінки в текст.",

    "Date or reminder": "Дата або нагадування",
    "Insert a date or reminder in text.": "Вставляє дату або нагадування в текст.",

    "Emoji": "Емодзі",
    "Search for an emoji to place in text.": "Пошук і вставка емодзі в текст.",

    "Inline equation": "Вбудоване рівняння",
    "Insert mathematical symbols in text.": "Вставляє математичні символи в текст.",

    "Table - Inline": "Таблиця - вбудована",
    "Create a table inline in this page.": "Створити таблицю на цій сторінці.",

    "Board - Inline": "Дошка - вбудована",
    "Create a kanban board inline in this page.": "Створити kanban board на цій сторінці.",

    "Gallery - Inline": "Галерея - вбудована",
    "Create a gallery inline in this page.": "Створити галерею на цій сторінці.",

    "List - Inline": "Список - вбудований",
    "Create a list inline in this page.": "Створити список на цій сторінці.",

    "Calendar - Inline": "Календар - вбудований",
    "Create a calendar inline in this page.": "Створити календар на цій сторінці.",

    "Timeline - Inline": "Таймлайн - вбудований",
    "Create a timeline inline in this page.": "Створити таймлайн на цій сторінці.",

    "Table - Full page": "Таблиця - Повна сторінка",
    "Create a table as its own page.": "Створити таблицю на окремій сторінці.",

    "Board - Full page": "Дошка - Повна сторінка",
    "Create a kanban board as its own page.": "Створити канбан на окремій сторінці.",

    "Gallery - Full page": "Галерея - Повна сторінка",
    "Create a gallery as its own page.": "Створити галерею на окремій сторінці.",

    "List - Full page": "Список - Повна сторінка",
    "Create a list as its own page.": "Створити список на окремій сторінці.",

    "Calendar - Full page": "Календар - Повна сторінка",
    "Create a calendar as its own page.": "Створити календар на окремій сторінці.",

    "Timeline - Full page": "Таймлайн - Повна сторінка",
    "Create a timeline as its own page.": "Створити таймлайн на окремій сторінці.",

    "Create linked database": "Створити пов'язану базу даних",
    "Create custom views for a database.": "Створити подання для бази даних.",

    "Image": "Зображення",
    "Upload or embed with a link.": "Завантажити або вбудувати з посиланням.",

    "Web bookmark": "Веб-закладка",
    "Save a link as a visual bookmark.": "Зберегти посилання як візуальну закладку.",

    "Video": "Відео",
    "Embed from YouTube, Vimeo...": "Вбудувати з YouTube, Vimeo...",

    "Audio": "Аудіо",
    "Embed from SoundCloud, Spotify...": "Вбудувати з SoundCloud, Spotify...",

    "Code": "Код",
    "Capture a code snippet.": "Вставити фрагмент коду.",

    "File": "Файл",
    "Upload or embed with a link.": "Завантажити або вбудувати з посиланням.",

    "Table of contents": "Зміст",
    "Show an outline of your page.": "Розмістити зміст сторінки",

    "Block equation": "Блок рівняння",
    "Display a standalone math equation.": "Вставити рівняння окремим блоком",

    "Template button": "Кнопка шаблону",
    "Duplicate blocks with a click.": "Копії блоку одним натисканням",

    "Breadcrumb": "Шлях до сторінки",
    "Show the current page location.": "Показати шлях до цієї сторінки",

    //#endregion


    //#region Side toolbar
    "Quick Find": "Швидкий пошук",
    "Settings": "Налаштування",
    "Settings & Members": "Налаштування та учасники",
    "All Updates": "Усі оновлення",

    "Shared": "Загальні",
    "Private": "Особисті",
    "Favorites": "Вибране",
    "Trash": "Кошик",
    "New page": "Нова сторінка",
    "Add a page": "Додати сторінку",

    "You are currently a guest. To see all the workspace pages, ask an admin to upgrade you to a member.": "Наразі ви гість. Щоб побачити всі сторінки робочої області, попросіть адміністратора підвищити вас до учасника.",
    "Create a workspace": "Створити робочу область",
    //#endregion

    //#region Top toolbar
    "Share": "Поділитися",
    "Updates": "Оновлення",
    "Favorite": "В обране",
    "Favorited": "В обраному",
    //#endregion

    //#region Share

    "Share to web": "Відкритий доступ",
    "Publish and share link with anyone": "Відкриває доступ для всіх за посиланням",
    "Full access": "Повний доступ",
    "Can edit": "Може редагувати",
    "Can comment": "Може коментувати",
    "Can view": "Може просматувати",

    //#endregion

}

function isNoTranslate(node) {
    if (hasSomeParentTheAttribute(node, "role", "button")) {
        console.log('isNoTranslate');
        return false;
    }

    return true;
}

function hasSomeParentTheClass(element, classname) {
    if (element.classList && element.classList.contains(classname)) return true; 
    return element.parentNode && hasSomeParentTheClass(element.parentNode, classname);
}

function hasClass(node, className) {
    if (node.nodeType === 1 && node.classList && node.classList.contains(className)) return true; 
    return false;
}

function hasAttribute(node, attributeName, attributeValue) {
    if (node.nodeType === 1 && node.hasAttribute(attributeName) && node.getAttribute(attributeName) == attributeValue) return true; 
    return false;
}

function hasSomeParentTheAttribute(element, attributeName, attributeValue) {
    if (element.nodeType === 1 && element.hasAttribute(attributeName) && element.getAttribute(attributeName) == attributeValue) return true; 
    return element.parentNode && hasSomeParentTheAttribute(element.parentNode, attributeValue);
}

function translateByList(node, list) {
    if (node.innerHTML in list) {
        var translated = list[node.innerHTML];
        console.log(`[${list.constructor.name}, innerHTML] translating node, old value: "${node.innerHTML}", new value: "${translated}"`)
        node.innerHTML = translated;
        return true;
    }
    if (node.data in list) {
        if (node.data != null) console.log(`node data: ${node.data}`);
        var translated = list[node.data];
        console.log(`[${list.constructor.name}, data] translating node, old value: "${node.data}", new value: "${translated}"`)
        node.data = translated;
        return true;
    };
    if (node.childNodes != null) {
        var nodes = node.childNodes;
        for (var i = 0; i < nodes.length; i++) {
            translateByList(nodes[i], list);
        }
    }
    return false;
}

function translatePlaceholder(node) {
    let placeholderValue = node.getAttribute("placeholder");
    console.log(`node placeholder: ${placeholderValue}`);
    if (placeholderValue in placeholders) {
        var translated = placeholders[placeholderValue];
        console.log(`[placeholder] translating node, old value: "${placeholderValue}", new value: "${translated}"`)
        node.setAttribute("placeholder", translated);
    }
}


function translateNode(node) {
    if (node.nodeType === 1 
        //&& isNoTranslate(node) 
        && hasSomeParentTheClass(node, "notion-page-content") || hasSomeParentTheClass(node, "notion-page-block")) {
        //console.log("this is page content, returning");
        return;
    }
    //translateByList(node, alwaysTranslate);
    if (hasClass(node, "notion-activity-section-header")) {
        console.log(node.innerHTML);
        if (translateByList(node, updateHeaders)) return;
    }
    if (hasAttribute(node, "role", "button")) { 
        console.log("is a button!");
        console.log(node.innerHTML);
        if (translateByList(node, buttons)) return;
    }
    if (node.nodeType === 1 && node.hasAttribute("placeholder")) {
        // console.log(node.classList);
        // console.log(node.innerText);
        // console.log(node.getAttribute("placeholder"))
        translatePlaceholder(node);
        return;
    }
    // if (node.nodeType === 1) {
    //     console.log(node.classList);
    //     console.log(node.innerText);
    // }
    // console.log(`node.classList.contains('notranslate'): ${node?.classList?.contains('notranslate')}`)
    // console.log(`isNoTranslate(node): ${isNoTranslate(node)}`)
    // console.log(`hasSomeParentTheClass(node, "notranslate"): ${hasSomeParentTheClass(node, "notranslate")}`)
    // if (node.nodeType === 1 && ) {
    //     console.log("returning because of the parent class");
    //     return;
    // }

    if (node.innerHTML in strings) {
        var translated = strings[node.innerHTML];
        console.log(`[innerHTML] translating node, old value: "${node.innerHTML}", new value: "${translated}"`)
        node.innerHTML = translated;
    }
    //else пока нафиг ломает кучу элементов
    // else {
    //     //console.log(`Searching stringParts for innerHTML: ${node.innerHTML}`);
    //     Object.keys(stringParts).forEach(function(key) {
    //         //
    //         //logic();
    //         //console.log(`Key: ${key}`);
    //         if (node.innerHTML != null && node.innerHTML.includes(key)) {
    //             let translated = stringParts[key];
    //             console.log(`[stringParts, innerHTML] translating node, old value: "${node.innerHTML}", new value: "${translated}"`)
    //             node.innerHTML = node.innerHTML.replace(key, translated);
    //         }
    //       });
    // }

    if (node.data in strings) {
        if (node.data != null) console.log(`node data: ${node.data}`);
        var translated = strings[node.data];
        console.log(`[data] translating node, old value: "${node.data}", new value: "${translated}"`)
        node.data = translated;
    };

    if (node.childNodes != null) {
        var nodes = node.childNodes;
        for (var i = 0; i < nodes.length; i++) {
            translateNode(nodes[i]);
        }
    }
}

// Select the node that will be observed for mutations
const targetNode = document.getElementById('notion-app');

// Options for the observer (which mutations to observe)
const config = { attributes: true, childList: true, subtree: true };

// Callback function to execute when mutations are observed
const callback = function (mutationsList, observer) {

    for (let mutation of mutationsList) {
        if (mutation.type == "attributes") {
            if (mutation.attributeName = "placeholder") continue;
            //console.log(`Mutated attribute: ${mutation.attributeName}`);
            translatePlaceholder(mutation.target);
        }
        //console.log(`Mutated! Type: ${mutation.type}`);
        if (mutation.type == "childList") {
            for (let node of mutation.addedNodes) {
                translateNode(node);
            }
        }
        if (mutation.type == "characterData") {
            translateNode(mutation.target);
        }

    }
};

// Create an observer instance linked to the callback function
const observer = new MutationObserver(callback, {
    childList: true, // спостерігати за дітьми
    subtree: true,// і більш глибокими нащадками
    attributeFilter: ['placeholder'],
    characterData: true,
}
);

// Start observing the target node for configured mutations
observer.observe(targetNode, config);

